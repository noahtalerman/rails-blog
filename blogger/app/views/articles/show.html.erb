<div class="outer_container">
    <div class="container">
        <h1 class="article_title"><%= @article.title %></h1>
        <h2 class="article_preview_main"><%= @article.preview %></h2>

        <p class="header_img "><%= image_tag @article.image.url %></p>

        <p class="article_body"><%= @article.body %></p>

        <div class="tags_and_links">
            <div class="links_container">
                <%= link_to '<< Back to Articles List', articles_path, class: 'action_link' %>
                <% if admin? %>
                    <%= link_to 'Edit Article', edit_article_path(@article), class: 'edit_btn '%>
                    <%=link_to 'Delete Article', article_path(@article), method: :delete, data: {confirm: "Really delete the article?"}, class: 'delete_btn' %>
                <% end %>
            </div>
            <div class="tags">
                    <% @article.tags.each do |tag| %>
                        <%= link_to tag.name, tag_path(tag), class: "tag_link_small" %>
                    <% end %>
            </div>
        </div>

        <br>

        <div class="comments_container">
            <h3 class="comments_title">Comments (<%= @article.comments.size %>)</h3>
            <button class="comment_btn">Post a Comment</button>
        </div>

        <%= render partial: 'comments/form' %>

        <div class="comments">
            <% if @article.comments.length > 0 %>
                <%= render partial: 'articles/comment', collection: @article.comments %>
            <% else %>
                <p class="comment_body">No comments yet..</p>
            <% end %>
        </div>
    </div>
</div>
